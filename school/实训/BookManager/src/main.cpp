#include"../include/main.h"
using namespace std;

typedef struct Book{
    string id;
    string name;
    bool status;
} Book;

void writeBook(fstream &out,const Book &book){
    size_t id_size=book.id.size();
    size_t name_size=book.name.size();
    out.write((char *)&id_size,sizeof(id_size));
    out.write(book.id.c_str(),id_size);
    out.write((char *)&name_size,sizeof(name_size));
    out.write(book.name.c_str(),name_size);
    out.write((char *)&book.status,sizeof(book.status));
}

void readBook(fstream &in,Book &book){
    size_t id_size;
    size_t name_size;
    in.read((char *)&id_size,sizeof(id_size));
    book.id.resize(id_size);
    in.read(&book.id[0],id_size);
    in.read((char *)&name_size,sizeof(name_size));
    book.name.resize(name_size);
    in.read(&book.name[0],name_size);
    in.read((char *)&book.status,sizeof(book.status));
}

int main(){
    Book one;
    one.id="1111345656778910011113456567789100111134565677891001111345656778910011113456567789100111134565677891001111345656778910011113456567789100111134565677891001111345656778910011113456567789100111134565677891001111345656778910011113456567789100111134565677891001111345656778910011113456567789100111134565677891001111345656778910011113456567789100111134565677891001111345656778910011113456567789100111134565677891001111345656778910011113456567789100111134565677891001111345656778910011113456567789100111134565677891001111345656778910011113456567789100111134565677891001111345656778910011113456567789100111134565677891001111345656778910011113456567789100111134565677891001111345656778910011113456567789100111134565677891001111345656778910011113456567789100111134565677891001111345656778910011113456567789100111134565677891001111345656778910011113456567789100111134565677891001111345656778910011113456567789100111134565677891001111345656778910011113456567789100111134565677891001111345656778910011113456567789100111134565677891001111345656778910011113456567789100111134565677891001111345656778910011113456567789100111134565677891001111345656778910011113456567789100111134565677891001111345656778910011113456567789100";
    one.name="name";
    one.status=true;
    one.name.da
    fstream out("test.bin",ios::out|ios::binary);
    writeBook(out,one);
    out.close();

    fstream in("test.bin",ios::in|ios::binary);
    Book get_one;
    readBook(in,get_one);
    in.close();

    cout<<get_one.id<<' '<<get_one.name<<' '<<get_one.status<<endl;

    return 0;
}